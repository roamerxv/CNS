<!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="decorators/webModel">
<body>

<div class="content_container" th:fragment="content" th:remove="tag">
    <div class="m-portlet m-portlet--mobile">
        <div class="col-md">
            <!--begin::Portlet-->
            <input type="hidden" th:value="${gatherInfo.id}" id="id">
            <input type="hidden" th:value="${gatherInfo.contractId}" id="contractId">
            <!--begin::Portlet-->
            <div class="m-portlet__head">
                <div class="m-portlet__head-caption">
                    <div class="m-portlet__head-title">
                                <span class="m-portlet__head-icon m--hide">
                                        <i class="la la-gear"></i>
                                </span>
                        <h3 class="m-portlet__head-text">
                            <span>修改一条收款信息</span>
                        </h3>
                    </div>
                </div>
            </div>
            <!--begin::Form-->
            <form class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed"
                  target="nm_iframe" onsubmit="fun_submit()">
                <div class="m-portlet__body">
                    <div class="form-group m-form__group row">
                        <div class="col-lg-4">
                            <label for="name">
                                收款信息名称
                            </label>
                            <input type="text" class="form-control m-input" id="name" placeholder=""
                                   required="required"
                                   th:value="${gatherInfo.name}">
                        </div>
                        <div class="col-lg-4 col-md-9 col-sm-12">
                            <label for="amount">
                                收款金额
                            </label>
                            <input type="number" step="0.01" class="form-control m-input" required="required"
                                   placeholder="合同金额" id="amount" th:value="${gatherInfo.amount}">
                        </div>
                        <div class="col-lg-4">
                            <label for="description">
                                收款信息描述
                            </label>
                            <textarea type="input" class="form-control m-input" id="description"
                                      th:text="${gatherInfo.description}"></textarea>
                        </div>
                    </div>
                    <div class="form-group m-form__group row">
                        <div class="col-lg-3 col-md-9 col-sm-12">
                            <label for="gatherDate">
                                计划收款日期
                            </label>
                            <input type="text" class="form-control m-input" required="required"
                                   placeholder="计划收款日" id="gatherDate" th:value="${gatherInfo.gatherDate}">
                        </div>
                        <div class="col-lg-3 col-md-9 col-sm-12">
                            <label for="gathered">
                                是否已经收讫
                            </label>
                            <div class="col-3">
                                        <span class="m-switch m-switch--outline m-switch--icon m-switch--success">
                                            <label>
                                                <input type="checkbox" th:checked="${gatherInfo.gathered}"
                                                       id="gathered">
                                                <span></span>
                                            </label>
                                        </span>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-9 col-sm-12">
                            <label for="gatheredDate">
                                实际收款日期
                            </label>
                            <input type="text" class="form-control m-input"
                                   placeholder="实际收款日" id="gatheredDate" th:value="${gatherInfo.gatheredDate}">
                        </div>
                    </div>
                    <div class="form-group m-form__group row">
                        <div class="col-lg-3 col-md-9 col-sm-12">
                            <label for="noticeDate">
                                提醒日期
                            </label>
                            <input type="text" class="form-control m-input"
                                   placeholder="提醒日" id="noticeDate" th:value="${gatherInfo.noticeDate}">
                        </div>
                        <div class="col-lg-6 col-md-9 col-sm-12">
                            <label for="notice">
                                是否需要提醒
                            </label>
                            <div class="col-3">
                                        <span class="m-switch m-switch--outline m-switch--icon m-switch--success">
                                            <label>
                                                <input type="checkbox" th:checked="${gatherInfo.notice}" id="notice">
                                                <span></span>
                                            </label>
                                        </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group m-form__group row" id="noticeContent_div">
                        <div class="col-lg-6 col-md-9 col-sm-12">
                            <label for="noticeContent">
                                提醒内容
                            </label>
                            <a href="javascript:fun_genContent()" class="m-link m-link--state m-link--info">
                                生成提醒内容
                            </a>
                            <textarea class="form-control m-input" rows="6"
                                      placeholder="提醒内容" id="noticeContent"
                                      th:text="${gatherInfo.noticeContent}"></textarea>
                        </div>
                        <div class="col-lg-6 col-md-9 col-sm-12">
                            <label for="noticeTo">
                                提醒对象(mail 地址以"，"分隔)
                            </label>
                            <textarea class="form-control m-input"
                                      placeholder="提醒对象的 mail 地址" id="noticeTo"
                                      th:text="${gatherInfo.noticeTo}"></textarea>
                        </div>
                    </div>
                </div>
                <div class="m-portlet__foot m-portlet__no-border m-portlet__foot--fit">
                    <div class="m-form__actions m-form__actions--solid">
                        <div class="row">
                            <div class="col-lg-6">
                                <button type="submit" class="btn btn-primary">
                                    更新
                                </button>
                                <button type="button" onclick="javasript:fun_back()"
                                        class="btn btn-secondary">
                                    返回
                                </button>
                            </div>
                            <div class="col-lg-6 m--align-right">
                                <a href="javascript:fun_notice_test()" class="btn btn-warning m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
                                    <span>
                                        <i class="la la-envelope-o"></i>
                                        <span>
                                            发送测试邮件
                                        </span>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <iframe id="id_iframe" name="nm_iframe" style="display:none;"></iframe>
            <!--end::Form-->
            <!--end::Portlet-->
            <!--begin::Page Snippets -->

            <!-- jQuery.dateTimePicker-2.5.11-->
            <link th:href="@{/assets/css/lib/jQuery.dateTimePicker-2.5.11/jquery.datetimepicker.min.css}"
                  rel="stylesheet"/>
            <script th:src="@{/assets/js/lib/jQuery.dateTimePicker-2.5.11/jquery.datetimepicker.full.js}"></script>
            <!--引入结束-->

            <script th:src="@{/assets/js/gatherInfo/base.js}" type="text/javascript"></script>
            <script th:src="@{/assets/js/gatherInfo/edit.js}" type="text/javascript"></script>
            <!--end::Page Resources -->
        </div>
    </div>

</body>
</html>
